{"logix":{"id":"727a8a3e-2799-459c-9123-6382d4d8ce47","user_defined_name":"Aiven","settings":{"collapsed_items":["434fd055-e53e-417e-bf9c-e1d236c1f461","4e679c35-1609-4684-bb8b-6b6fa4954b55","7497fd21-c0c2-4308-9535-99007a978aee","171625a1-e935-4d47-916f-44fd4f148a5f","795d775f-983d-4f2a-98a8-9c1e64387478","2d62171c-2464-45e2-9eac-1d84db07dedb","e5a44a92-d5e9-49c1-8d9d-79655e8dffa9","65517cbc-1117-46b5-88d8-64b58d05cb7d","a5d060fa-7a48-4778-9c27-59b37427bde4","cb163a56-5fdf-43e0-8a91-561060bd341f"],"is_soft_errors":true,"visible_parameters":["public"]},"public":[{"standard_function":{"id":"65517cbc-1117-46b5-88d8-64b58d05cb7d","user_defined_name":"Connect to an Aiven Database and Setup Schema","user_comment":"Only run this once to set up your database","internal_parameters":[{"data_structure":{"id":"434fd055-e53e-417e-bf9c-e1d236c1f461","user_defined_name":"Data Structure - query result"}}],"processes":[{"sql_connect_and_validate":{"id":"6d8c5dff-f752-4ab9-86bc-bb61bee4ba86","database_connection_name":{"basic_unicode_text":{"id":"32f63555-701c-40ab-a32b-d25ae27e1c13","value":{"value":"Aiven-mysql"}}}}},{"set_data_structure":{"id":"7497fd21-c0c2-4308-9535-99007a978aee","user_comment":"Create tables and populate with sample data","from":{"sql_execute_query":{"id":"5aaeadba-9424-4091-bc5f-356761b11364","database_connection_name":{"basic_unicode_text":{"id":"809211be-579d-4607-baec-92c366cf3971","value":{"value":"Aiven-mysql"}}},"query":{"type_select_unicode_text":{"basic_unicode_text":{"id":"26543bc8-a2e1-4b53-a8e7-62c2aecddc79","value":{"value":" -- Creating the 'drivers' table\nCREATE TABLE\n  drivers (\n    driver_id INT AUTO_INCREMENT PRIMARY KEY,\n    first_name VARCHAR(50),\n    last_name VARCHAR(50),\n    nationality VARCHAR(50),\n    dob DATE\n  );\n\n-- Creating the teams table\nCREATE TABLE\n  teams (\n    team_id INT AUTO_INCREMENT PRIMARY KEY,\n    team_name VARCHAR(100),\n    base VARCHAR(100),\n    team_chief VARCHAR(100),\n    technical_chief VARCHAR(100),\n    engine_supplier VARCHAR(100)\n  );\n\n-- Creating the driver_standings table\nCREATE TABLE\n  driver_standings (\n    standing_id INT AUTO_INCREMENT PRIMARY KEY,\n    driver_id INT,\n    team_id INT,\n    season YEAR,\n    points INT,\n    wins INT,\n    FOREIGN KEY (driver_id) REFERENCES drivers (driver_id),\n    FOREIGN KEY (team_id) REFERENCES teams (team_id)\n  );\n\n-- Inserting data into 'drivers'\nINSERT INTO\n  drivers (first_name, last_name, nationality, dob)\nVALUES\n  ('Michael', 'Schumacher', 'German', '1969-01-03'),\n  ('Ayrton', 'Senna', 'Brazilian', '1960-03-21'),\n  ('Fernando', 'Alonso', 'Spanish', '1981-07-29'),\n  ('Lewis', 'Hamilton', 'British', '1985-01-07'),\n  ('Sebastian', 'Vettel', 'German', '1987-07-03');\n\n-- Inserting data into 'teams'\nINSERT INTO\n  teams (\n    team_name,\n    base,\n    team_chief,\n    technical_chief,\n    engine_supplier\n  )\nVALUES\n  (\n    'Ferrari',\n    'Maranello, Italy',\n    'Jean Todt',\n    'Enrico Cardile',\n    'Ferrari'\n  ),\n  (\n    'McLaren',\n    'Woking, UK',\n    'Ron Dennis',\n    'James Key',\n    'Mercedes'\n  ),\n  (\n    'Mercedes',\n    'Brackley, UK',\n    'Toto Wolff',\n    'Mike Elliott',\n    'Mercedes'\n  ),\n  (\n    'Renault',\n    'Enstone, UK',\n    'Flavio Briatore',\n    'Pat Fry',\n    'Renault'\n  ),\n  (\n    'Red Bull Racing',\n    'Milton Keynes, UK',\n    'Christian Horner',\n    'Adrian Newey',\n    'Renault'\n  );\n\n-- Inserting data into 'driver_standings'\nINSERT INTO\n  driver_standings (driver_id, team_id, season, points, wins)\nVALUES\n  (1, 1, 2004, 148, 13),\n  (2, 2, 1991, 96, 7),\n  (3, 3, 2020, 347, 11),\n  (4, 4, 2005, 133, 7),\n  (4, 4, 2006, 134, 7),\n  (5, 5, 2010, 256, 5),\n  (5, 5, 2013, 397, 13);"}}}}}},"to":{"reference":{"id":"b99cd0a1-4bf0-4db0-9aa7-317d96d63259","function_reference":{"basic_unicode_text":{"id":"32ecb581-7445-49ca-bac0-897b300a892f","value":{"value":"65517cbc-1117-46b5-88d8-64b58d05cb7d"}}},"function_parameter_reference":{"basic_unicode_text":{"id":"f8571ad1-cb0c-421e-baca-e833ac0ce251","value":{"value":"434fd055-e53e-417e-bf9c-e1d236c1f461"}}}}}}}]}},{"standard_function":{"id":"8d41170a-0414-4ce2-bc67-86440fb0ba16","user_defined_name":"Example Queries","internal_parameters":[{"data_structure":{"id":"171625a1-e935-4d47-916f-44fd4f148a5f","user_defined_name":"Data Structure - Create"}},{"data_structure":{"id":"795d775f-983d-4f2a-98a8-9c1e64387478","user_defined_name":"Data Structure - Read"}},{"data_structure":{"id":"2d62171c-2464-45e2-9eac-1d84db07dedb","user_defined_name":"Data Structure - Update"}},{"data_structure":{"id":"e5a44a92-d5e9-49c1-8d9d-79655e8dffa9","user_defined_name":"Data Structure - Delete"}}],"processes":[{"sql_connect_and_validate":{"id":"62b7a008-e619-4b33-9729-64f580f3edad","database_connection_name":{"basic_unicode_text":{"id":"69086095-dfda-4920-afaa-895a0d9276df","value":{"value":"Aiven-mysql"}}}}},{"set_data_structure":{"id":"a5d060fa-7a48-4778-9c27-59b37427bde4","user_defined_name":"Create","from":{"sql_execute_query":{"id":"655bf216-602c-4c21-8946-ac757c1e7701","database_connection_name":{"basic_unicode_text":{"id":"32e303e9-e2c4-4b25-acc7-2660e5a1d4f9","value":{"value":"Aiven-mysql"}}},"query":{"sql_prepared_query":{"id":"2e803222-c2fa-4d82-a115-3492fc7b52cd","query_string":{"basic_unicode_text":{"id":"35771df3-2fa6-4bdb-a73f-4212a70594f2","value":{"value":"INSERT INTO drivers (first_name, last_name, nationality, dob) VALUES (?, ?, ?, ?);"}}},"arguments":[{"type_select_ds_item_node":{"type_select_any_data_type":{"type_select_semi_secret":{"type_select_unicode_text":{"basic_unicode_text":{"id":"38be13b8-f3f8-44f1-bb81-ec1f02d80883","user_defined_name":"first_name","value":{"value":"Stuart"}}}}}}},{"type_select_ds_item_node":{"type_select_any_data_type":{"type_select_semi_secret":{"type_select_unicode_text":{"basic_unicode_text":{"id":"c21476da-423f-43d1-908f-20b0bd2b212b","user_defined_name":"last_name","value":{"value":"Malt"}}}}}}},{"type_select_ds_item_node":{"type_select_any_data_type":{"type_select_semi_secret":{"type_select_unicode_text":{"basic_unicode_text":{"id":"484f468c-f11d-4fbd-b496-f4003364106b","user_defined_name":"nationality","value":{"value":"British"}}}}}}},{"type_select_ds_item_node":{"type_select_any_data_type":{"type_select_semi_secret":{"type_select_unicode_text":{"basic_unicode_text":{"id":"3c13855f-6d38-4eeb-a728-3d6cb13006f7","user_defined_name":"dob","value":{"value":"1994-04-12"}}}}}}}]}}}},"to":{"reference":{"id":"93cc7df1-91c4-4bb9-a1df-aa261ccbd3cd","function_reference":{"basic_unicode_text":{"id":"1ea81f5c-e860-40de-8daa-48e42eef4d33","value":{"value":"8d41170a-0414-4ce2-bc67-86440fb0ba16"}}},"function_parameter_reference":{"basic_unicode_text":{"id":"65ac220e-2e69-4e2b-9637-fa42c84ebe05","value":{"value":"171625a1-e935-4d47-916f-44fd4f148a5f"}}}}}}},{"set_data_structure":{"id":"cb163a56-5fdf-43e0-8a91-561060bd341f","user_defined_name":"Read","from":{"sql_execute_query":{"id":"40acd4b6-fc94-436e-a4f6-10fe7140a86c","database_connection_name":{"basic_unicode_text":{"id":"2df3c19f-48e2-4016-b660-6f1fb2a202b7","value":{"value":"Aiven-mysql"}}},"query":{"sql_prepared_query":{"id":"caa09779-91ad-4b60-a226-cc2ecd914fcd","query_string":{"basic_unicode_text":{"id":"5f89939d-5ad6-4aff-8961-1d6b7f00bae9","value":{"value":"SELECT d.first_name, d.last_name, SUM(ds.points) AS total_points\nFROM drivers d\nJOIN driver_standings ds ON d.driver_id = ds.driver_id\nWHERE d.last_name = ?\nGROUP BY d.driver_id;"}}},"arguments":[{"type_select_ds_item_node":{"type_select_any_data_type":{"type_select_semi_secret":{"type_select_unicode_text":{"basic_unicode_text":{"id":"81a23e34-2ca0-4c9e-9bd3-710130c0d140","user_defined_name":"last_name","value":{"value":"Alonso"}}}}}}}]}}}},"to":{"reference":{"id":"162354b0-ad3e-4ce1-8e1b-d06f451bfeaf","function_reference":{"basic_unicode_text":{"id":"93d19fcd-f8b9-455f-9be1-c0730f3abfde","value":{"value":"8d41170a-0414-4ce2-bc67-86440fb0ba16"}}},"function_parameter_reference":{"basic_unicode_text":{"id":"62875bd1-0295-4d26-b503-3de9123eba35","value":{"value":"795d775f-983d-4f2a-98a8-9c1e64387478"}}}}}}},{"set_data_structure":{"id":"07e214d1-7ab3-470c-8ede-af3a7ef19b51","user_defined_name":"Update","from":{"sql_execute_query":{"id":"48a2c36f-959c-4c73-8e34-f9fe0cc9e458","database_connection_name":{"basic_unicode_text":{"id":"43dd3a9d-8649-4595-aed8-992286dc7df1","value":{"value":"Aiven-mysql"}}},"query":{"sql_prepared_query":{"id":"1b423751-d80f-4a2e-94b4-7606276604bd","query_string":{"basic_unicode_text":{"id":"0a5cb0cf-5e7b-4351-942d-7d15f960ce61","value":{"value":"UPDATE drivers SET last_name = ? WHERE driver_id = ?;"}}},"arguments":[{"type_select_ds_item_node":{"type_select_any_data_type":{"type_select_semi_secret":{"type_select_unicode_text":{"basic_unicode_text":{"id":"01efc3c8-fcf5-4873-ac85-d95b68c29bc8","user_defined_name":"last_name","value":{"value":"Comnoco"}}}}}}},{"type_select_ds_item_node":{"type_select_any_data_type":{"type_select_semi_secret":{"type_select_unicode_text":{"basic_unicode_text":{"id":"7a0c7300-6e82-41d3-b6ef-1de67df800fe","user_defined_name":"driver_id","value":{"value":"10"}}}}}}}]}}}},"to":{"reference":{"id":"afd9e765-aa35-4732-aab5-b5490d4ec16c","function_reference":{"basic_unicode_text":{"id":"c9c84dfc-2cb1-47fa-9217-f57a4dc9de37","value":{"value":"8d41170a-0414-4ce2-bc67-86440fb0ba16"}}},"function_parameter_reference":{"basic_unicode_text":{"id":"1bf1d0ca-dee7-4bec-a466-84311041cbfc","value":{"value":"2d62171c-2464-45e2-9eac-1d84db07dedb"}}}}}}},{"set_data_structure":{"id":"27b7bc0e-0296-4322-bb1e-9c58e9e1b884","user_defined_name":"Delete","from":{"sql_execute_query":{"id":"fcdfab78-01b2-4566-bc1b-ef62dbf55162","database_connection_name":{"basic_unicode_text":{"id":"c354e7e5-3302-4ee9-a5fe-1ff3ce3f33a4","value":{"value":"Aiven-mysql"}}},"query":{"sql_prepared_query":{"id":"61ed2b7d-6d12-4922-88de-8be4548e391d","query_string":{"basic_unicode_text":{"id":"e215e173-be9a-4834-a047-0d89964aea35","value":{"value":"DELETE FROM drivers WHERE driver_id = ?;"}}},"arguments":[{"type_select_ds_item_node":{"type_select_any_data_type":{"type_select_semi_secret":{"type_select_unicode_text":{"basic_unicode_text":{"id":"eb78847f-704d-4572-9e93-27d2f33cd98f","user_defined_name":"driver_id","value":{"value":"9"}}}}}}}]}}}},"to":{"reference":{"id":"e7cb835e-46c5-4e95-8185-50e7be352a82","function_reference":{"basic_unicode_text":{"id":"a3cbe9fc-e0f3-426d-8ac9-1ef65b34452d","value":{"value":"8d41170a-0414-4ce2-bc67-86440fb0ba16"}}},"function_parameter_reference":{"basic_unicode_text":{"id":"de85a282-91bd-43b9-9c1e-f56fcf9f79f0","value":{"value":"e5a44a92-d5e9-49c1-8d9d-79655e8dffa9"}}}}}}}]}}]}}